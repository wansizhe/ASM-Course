EXTERN	DISPBX: FAR
MYDATA	SEGMENT
DATA  	DW      1234H,5678H,9D4CH,0D7H,0,-1,7823H,8900H,10F5H,645DH,80A0H,80A2H,2,10B4H
N   	EQU     $-DATA
MAX	DW	?
MYDATA	ENDS
CODE	SEGMENT
	ASSUME	CS:CODE, DS:MYDATA
START:	MOV	AX, MYDATA
	MOV	DS, AX
	SUB	DX, DX
	MOV	CX, N/2-1
	MOV	BX, OFFSET DATA
	SUB	BX, 2
LOC1:	ADD	BX, 2
	MOV	AX, [BX]
	PUSH	AX
	MOV	DI, 2
	IDIV	DI
	POP	AX
	CMP	DX, 0
	JNE	LOC1	
AGAIN:	ADD	BX, 2
	CMP	AX, [BX]
	JLE	NEXT
	PUSH	AX
	MOV	AX, [BX]
	PUSH	AX
	MOV 	DI, 2
	SUB	DX, DX
	IDIV	DI
	POP	AX
	CMP	DX, 0
	JE	LOC2
	POP	AX
	JMP	NEXT
LOC2:	ADD	SP, 2
NEXT:	LOOP	AGAIN
	MOV	BX, AX
	CALL	DISPBX

	MOV	DL, 10
	MOV	AH, 02H
	INT	21H

	SUB	DX, DX
	SUB	AX, AX
	SUB	CX, CX
	SUB	BX, BX
	MOV	CX, N/2-1
	MOV	BX, OFFSET DATA
	SUB	BX, 2
MLOC1:	ADD	BX, 2
	MOV	AX, [BX]
	PUSH	AX
	MOV	DI, 2
	IDIV	DI
	POP	AX
	CMP	DX, 0
	JNE	MLOC1	
MAGAIN:	ADD	BX, 2
	CMP	AX, [BX]
	JGE	MNEXT
	PUSH	AX
	MOV	AX, [BX]
	PUSH	AX
	MOV 	DI, 2
	SUB	DX, DX
	IDIV	DI
	POP	AX
	CMP	DX, 0
	JE	MLOC2
	POP	AX
	JMP	MNEXT
MLOC2:	ADD	SP, 2
MNEXT:	LOOP	MAGAIN
	MOV	BX, AX
	CALL	DISPBX

	MOV	AX, 4C00H
	INT	21H

CODE	ENDS
	END	START
	